---
title: cassandra translation
layout: page
---

Every Cassandra table has at least one column: A column named `p`,
which stores the [persistent object translated into
JSON](json.html).

If [optimistic locking](../context/opt-lock.html) is turned on, then a
`row_version` column is also added. Please note that the Cassandra
optimistic locking implementation uses [lightweight
transactions](http://docs.datastax.com/en/cassandra/2.0/cassandra/dml/dml_ltwt_transaction_c.html)
for updates and deletes, introducing an `IF row_version = ...` clause
to the database command. This will incur a performance penalty.

More columns are added to support any [keys](../ptype/keys.html) or
[indexes](../ptype/indexes.html) for the [persistent
type](../ptype). Every [property](../ptype/properties.html) used in a
key or index is expanded in to a sequence of property components that
all have [basic types](../model/basics.html). These property
components are stored in Cassandra columns, and all have names
prefixed with `prop_`.  Those property components that do not belong
to your partition key are
[indexed](https://docs.datastax.com/en/cql/3.1/cql/cql_reference/create_index_r.html).

The property component columns are used to back calls to
[Repo.retrieve](../repo/retrieve.html), as well as [query
retrievals](../query/retrieve-by.html). Please note that queries constructed
using properties that are not part of a longevity key or index [will
fail](../query/cassandra-query-limits.html).

Cassandra table names are generated by [underscoring the
camel-cased](http://longevityframework.github.io/longevity/scaladocs/emblem-latest/index.html#emblem.stringUtil$@camelToUnderscore(name:String):String)
name of the persistent class.

{% assign prevTitle = "mongodb keys" %}
{% assign prevLink = "mongo-keys.html" %}
{% assign upTitle = "translating persistents to the database" %}
{% assign upLink = "." %}
{% assign nextTitle = "cassandra keys" %}
{% assign nextLink = "cassandra-keys.html" %}
{% include navigate.html %}
